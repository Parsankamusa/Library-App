{% extends 'base.html' %}

{% block content %}
    <h2>Transactions</h2>
    <ul>
        {% for transaction in transactions %}
            <li>
                Book: {{ transaction.book.title }} by {{ transaction.book.author }},
                Member: {{ transaction.member.name }},
                Issue Date: {{ transaction.issue_date }},
                Return Date: {{ transaction.return_date }},
                Rent Fee: KES {{ transaction.rent_fee }}
            </li>
        {% endfor %}
    </ul>

    <h3>Add a new transaction:</h3>
    <form method="post" action="{{ url_for('transactions_page') }}">
        <label for="book_id">Book:</label>
        <select id="book_id" name="book_id" required>
            {% for book in books %}
                <option value="{{ book.id }}">{{ book.title }} by {{ book.author }}</option>
            {% endfor %}
        </select>

        <label for="member_id">Member:</label>
        <select id="member_id" name="member_id" required>
            {% for member in members %}
                <option value="{{ member.id }}">{{ member.name }}</option>
            {% endfor %}
        </select>

        <label for="return_date">Return Date:</label>
        <input type="date" id="return_date" name="return_date" required>

        <button type="submit">Add Transaction</button>
    </form>
{% endblock %}
